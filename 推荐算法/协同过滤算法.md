# 协同过滤算法

## 用户推荐（UserCF）和物品推荐（ItemCF）对比

### 定义

UserCF：推荐那些和他有共同兴趣爱好的用户喜欢的物品
ItemCF：推荐那些和他之前喜欢的物品类似的物品

根据用户推荐重点是反应和用户兴趣相似的小群体的热点，根据物品推荐着重与用户过去的历史兴趣，即：

UserCF是某个群体内的物品热门程度
ItemCF是反应本人的兴趣爱好，更加个性化

UserCF需要维护一个用户相似度矩阵
ItemCF需要维护一个物品相似度矩阵

### 优缺点对比

User- based认为一个人会喜欢和他有相同爱好的人喜欢的东西，即人以群分。

Item- based认为一个人会喜欢和他以前喜欢的东西相似的东西。

这两个假设都有其合理性。所以说，这两个算法是很互补的。

ItemCF coverage很大而UserCF很小。

例子：

给定一个用户，假设他喜欢3个领域A,B,C，同时A是他喜欢的主要领域。UserCF和ItemCF倾向于做出的推荐：

如果用UserCF, 它会将A,B,C三个领域中比较热门的东西推荐给用户。而如果用ItemCF，它会基本上只推荐A领域的东西给用户。

因为UserCF只推荐热门的，所以UserCF在推荐长尾上能力不足。而ItemCF只推荐A领域给用户，这样他有限的推荐列表中就可能包含了一定数量的不热门item，所以ItemCF推荐长尾的能力比较强。不过ItemCF的推荐对某一个用户而言，显然多样性不足。但是对整个系统而言，因为不同的用户的主要兴趣点不同，所以系统的coverage会很大。

显然上面的两种推荐都有其合理性，但都不是最好的选择，因此他们的精度也会有损失。最好的选择是，如果我们给这个用户推荐30个item，我们既不是每个领域挑选10个最热门的给他，也不是推荐30个A领域的给他，而是比如推荐15个A领域的给他，剩下的15个从B,C中选择。（这个在实际应用中就不是很容易做到了，如何将用户兴趣分类？使用图论，连接矩阵将用户兴趣偏好识别？与其这样，还不如先将数据进行社区聚类，将数据根据图划分为几个小团体，针对小团体做推荐，这样就比如将只有上面提及的3中兴趣爱好的人组成的社区里面进行推荐。至于算法，小团体里大家都差不多，对应偏好矩阵稠密度较高，2个算法差距应该不大吧，具体有待考究）

认识到这一点，可以给我们设计高精度的算法指明一个方向。就是当一个系统对个人推荐的多样性不足时，我们增加个人推荐的多样性可以提高精度。而当一个系统的整体多样性不足（比如只推荐popular的)，我们增加整体的多样性同样可以提高精度。